"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[937],{1064:function(t,r,s){s.d(r,{Z:function(){return p}});var e=s(3396);const o=t=>((0,e.dD)("data-v-5f3f4a20"),t=t(),(0,e.Cn)(),t),c={class:"d-flex justify-content-center mb-3"},d=o((()=>(0,e._)("div",{class:"loader"},null,-1))),i=[d];function n(t,r,s,o,d,n){return(0,e.wg)(),(0,e.iD)("div",c,i)}var u={},a=s(89);const l=(0,a.Z)(u,[["render",n],["__scopeId","data-v-5f3f4a20"]]);var p=l},9937:function(t,r,s){s.r(r),s.d(r,{default:function(){return S}});var e=s(3396);const o={key:0,class:"d-flex justify-content-center"};function c(t,r,s,c,d,i){const n=(0,e.up)("CardComp"),u=(0,e.up)("loading-spinner");return(0,e.wg)(),(0,e.iD)("div",null,[i.products?((0,e.wg)(),(0,e.iD)("div",o,[(0,e.Wm)(n,{products:i.products},null,8,["products"])])):((0,e.wg)(),(0,e.j4)(u,{key:1}))])}var d=s(1064),i=s(9242),n=s(7139);const u={class:"d-flex justify-content-center"},a={class:"tops"},l={class:"oak col mt-5"},p={class:"d-flex justify-content-center"},h={key:0,class:"row card-container"},f={class:"product-card mx-2"},g=["src","alt"],m={class:"content d-flex flex-column h-100"},C={class:"title"},v={class:"title"},w={class:"title"},y={class:"sci"},_=["onClick"],P={key:1};function D(t,r,s,o,c,d){const D=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",u,[(0,e._)("div",null,[(0,e._)("div",a,[(0,e.wy)((0,e._)("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>c.searchQuery=t),placeholder:"Search products...🔍"},null,512),[[i.nr,c.searchQuery]]),(0,e._)("button",{id:"purple",onClick:r[1]||(r[1]=(...t)=>d.sortProducts&&d.sortProducts(...t))},"Sort by Price (Asc)"),(0,e._)("button",{id:"purple",onClick:r[2]||(r[2]=(...t)=>d.sortProducts2&&d.sortProducts2(...t))},"Sort by Price (Desc)")]),(0,e._)("div",l,[(0,e._)("div",p,[s.products?((0,e.wg)(),(0,e.iD)("div",h,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(d.filteredAndSortedProducts,(s=>((0,e.wg)(),(0,e.iD)("div",{key:s.productID,class:"col-md-4 col-sm-6 col-12 mb-4"},[(0,e._)("div",f,[(0,e._)("img",{src:s.productUrl,alt:s.productUrl,class:"img-fluid picture"},null,8,g),(0,e._)("div",m,[(0,e._)("h3",C,(0,n.zw)(s.productNAME),1),(0,e._)("h3",v,(0,n.zw)(s.productCAT),1),(0,e._)("h3",w,(0,n.zw)(s.productTYPE),1),(0,e._)("p",y,"R "+(0,n.zw)(s.productPRICE),1),(0,e.Wm)(D,{to:{name:"product",params:{id:s.productID}}},{default:(0,e.w5)((()=>[(0,e._)("button",{id:"purple",onClick:r[3]||(r[3]=(...r)=>t.View&&t.View(...r)),class:"viewbtn"},"View more"),(0,e._)("button",{id:"purple",onClick:t=>d.addToCart(s.productID),class:"addbtn"},"Add to cart",8,_)])),_:2},1032,["to"])])])])))),128))])):((0,e.wg)(),(0,e.iD)("div",P,"Loading"))])])])])}var k={props:["products"],data(){return{searchQuery:"",ascending:!0,descending:!1}},computed:{filteredAndSortedProducts(){let t=this.$store.state.products||[];if(this.searchQuery){const r=this.searchQuery.toLowerCase();t=t.filter((t=>t.productNAME.toLowerCase().includes(r)))}return this.ascending?t.sort(((t,r)=>t.productPRICE-r.productPRICE)):this.descending&&t.sort(((t,r)=>r.productPRICE-t.productPRICE)),t}},methods:{sortProducts(){this.ascending=!0,this.descending=!1},sortProducts2(){this.ascending=!1,this.descending=!0},addToCart(t){this.userData&&this.userData.userID&&this.$store.dispatch("addToCart",{userID:this.userData.userID,prodID:t})}}},I=s(89);const b=(0,I.Z)(k,[["render",D],["__scopeId","data-v-063be2d8"]]);var x=b,E={data(){return{selectedCategory:"",filteredProducts:[],categories:["Bag","Flag","T-SHIRT"],searchQuery:"",sortOrder:"asc",isLoading:!0}},computed:{products(){return this.$store.state.products}},methods:{filter(){this.filteredProducts=this.products.filter((t=>""===this.selectedCategory||t.category===this.selectedCategory))},performSearch(){this.filteredProducts=this.products.filter((t=>{const r=t.prodName.toLowerCase();return r.includes(this.searchQuery.toLowerCase())}))},sortProducts(){this.products.sort(((t,r)=>"asc"===this.sortOrder?t.amount-r.amount:r.amount-t.amount)),(this.selectedCategory||this.searchQuery)&&this.filter()}},mounted(){this.$store.dispatch("getProducts").then((()=>{this.products=this.$store.state.products}))},components:{CardComp:x,LoadingSpinner:d.Z}};const Q=(0,I.Z)(E,[["render",c]]);var S=Q}}]);
//# sourceMappingURL=937.16a3a8d4.js.map