{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from \"vuex\";\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\n// import Cookies from \"js-cookie\";\n\nconst dbConnection = 'https://lisambuwa.onrender.com/';\nexport default createStore({\n  state: {\n    products: null,\n    product: null,\n    // users: null,\n    user: null,\n    users: null,\n    token: null,\n    isLoggedIn: false,\n    cart: []\n  },\n  getters: {},\n  mutations: {\n    setProducts: (state, products) => {\n      state.products = products;\n    },\n    setProduct: (state, product) => {\n      state.product = product;\n    },\n    setUsers: (state, users) => {\n      state.users = users;\n    },\n    setUser: (state, user) => {\n      state.user = user;\n    },\n    registerUser: (state, userData) => {\n      state.users.push(userData);\n    },\n    sortProducts: state => {\n      state.products.sort((a, b) => {\n        return a.Price - b.Price;\n      });\n      if (!state.asc) {\n        state.products.reverse();\n      }\n      state.asc = !state.asc;\n    },\n    //CART\n    setCart(state, cart) {\n      state.cart = cart;\n    },\n    addToCart(state, product) {\n      state.cart.push(product);\n    },\n    addToCart(state, product) {\n      const existingProduct = state.cart.find(item => item.prodID === product.prodID);\n      if (existingProduct) {\n        existingProduct.quantity += 1;\n      } else {\n        product.quantity = 1;\n        state.cart.push(product);\n      }\n    },\n    updateCartItemQuantity(state, {\n      prodID,\n      prodQUANTITY\n    }) {\n      const cartItem = state.cart.find(item => item.prodID === prodID);\n      if (cartItem) {\n        cartItem.quantity = prodQUANTITY;\n      }\n    },\n    removeItem(state, cartID) {\n      const index = state.cart.findIndex(item => item.cartID === cartID);\n      if (index !== -1) {\n        state.cart.splice(index, 1);\n      }\n    },\n    setUserFromLocalStorage(state) {\n      const token = localStorage.getItem(\"userToken\");\n      if (token) {\n        state.token = token;\n        state.isLoggedIn = true;\n        const userData = JSON.parse(localStorage.getItem(\"userData\"));\n        if (userData) {\n          state.user = userData;\n        }\n      }\n    },\n    setUser(state, user) {\n      state.user = user;\n      state.isLoggedIn = true;\n    },\n    setToken(state, token) {\n      state.token = token;\n    },\n    clearUser(state) {\n      state.user = null;\n      state.token = null;\n      state.isLoggedIn = false;\n    }\n  },\n  actions: {\n    getProducts: async context => {\n      try {\n        const response = await fetch(\"https://lisambuwa.onrender.com/products\");\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        const products = await response.json();\n        context.commit(\"setProducts\", products);\n      } catch (error) {\n        console.error(\"Error fetching products:\", error);\n      }\n    },\n    // getProduct: async (context, id) => {\n    //   fetch(\"https://nodeeomp.onrender.com/products/\" + id)\n    //     .then((res) => res.json())\n    //     .then((product) => context.commit(\"setProduct\", product));\n    // },\n    getProduct: async (context, id) => {\n      try {\n        const response = await fetch(`https://lisambuwa.onrender.com/products/${id}`);\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch product\");\n        }\n        const product = await response.json();\n        context.commit(\"setProduct\", product);\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    getUsers: async context => {\n      fetch(\"https://lisambuwa.onrender.com/users\").then(res => res.json()).then(users => context.commit(\"setUsers\", users.results));\n    },\n    getUser: async (context, id) => {\n      try {\n        const res = await fetch(`https://lisambuwa.onrender.com/users/${id}`);\n        if (!res.ok) {\n          throw new Error(\"Failed to fetch user by ID\");\n        }\n        const user = await res.json();\n        context.commit(\"setUser\", user);\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    //User\n\n    async registerUser({\n      commit\n    }, userData) {\n      try {\n        const response = await axios.post(\"https://lisambuwa.onrender.com/register\", userData);\n        const user = response.data;\n        commit(\"setUser\", user);\n        if (response.status === 200) {\n          Swal.fire({\n            icon: \"success\",\n            title: \"Registration Successful\",\n            text: \"You have successfully registered.\"\n          });\n          this.$router.push(\"/login\");\n        } else {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Registration Failed\",\n            text: \"An error occurred during registration.\"\n          });\n        }\n      } catch (error) {\n        console.error(\"Network Error:\", error);\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: error.message\n        });\n      }\n    },\n    //Login\n    async loginUser({\n      commit\n    }, credentials) {\n      try {\n        const response = await axios.post(\"https://lisambuwa.onrender.com/login\", credentials);\n        if (response.status === 200) {\n          const {\n            token,\n            user\n          } = response.data;\n          console.log(response.data);\n          console.log(token);\n          commit(\"setToken\", token);\n          commit(\"setUser\", user);\n          // Store user data in local storage\n          localStorage.setItem(\"userToken\", token);\n          localStorage.setItem(\"userData\", JSON.stringify(response.data));\n          window.location.reload();\n          Swal.fire({\n            icon: \"success\",\n            title: \"Login Successful\",\n            text: \"You have successfully logged in.\"\n          });\n        } else {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Error\",\n            text: \"An error occurred during login.\"\n          });\n        }\n      } catch (error) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: error.message\n        });\n      }\n    },\n    async getCart({\n      commit\n    }) {\n      try {\n        const response = await axios.get(`${dbConnection}cart`);\n        commit(\"setCart\", response.data);\n      } catch (error) {\n        console.error(\"Error fetching cart:\", error);\n      }\n    },\n    // async addToCart({ commit, state }, product) {\n    //   try {\n    //     if (!state.cart) {\n    //       console.error(\"Cart is not initialized.\");\n    //       return false;\n    //     }\n    //     const response = await axios.post(`${dbConnection}cart`, product);\n    //     console.log(product);\n    //     if (response.status === 200) {\n    //       commit(\"addToCart\", response.data);\n    //       console.log(\"addToCart\", response.data);\n    //       await this.dispatch(\"getCart\");\n    //       Swal.fire({\n    //         icon: \"success\",\n    //         title: \"Added to Cart\",\n    //         text: \"The product has been added to your cart.\",\n    //       });\n    //       return true;\n    //     } else {\n    //       console.error(\"Error adding to cart:\", response.statusText);\n    //       Swal.fire({\n    //         icon: \"error\",\n    //         title: \"Error\",\n    //         text: \"An error occurred while adding the product to your cart.\",\n    //       });\n    //       return false;\n    //     }\n    //   } catch (error) {\n    //     console.error(\"Error adding to cart:\", error);\n    //     Swal.fire({\n    //       icon: \"error\",\n    //       title: \"Error\",\n    //       text: \"An error occurred while adding the product to your cart.\",\n    //     });\n    //     throw error;\n    //   }\n    // },\n\n    addToCart({\n      commit\n    }, product) {\n      commit('addToCart', product);\n    },\n    async removeItem({\n      commit\n    }, cartID) {\n      try {\n        await axios.delete(`${dbConnection}cart/${cartID}`);\n        commit(\"removeItem\", cartID);\n        console.log(cartID);\n        Swal.fire({\n          icon: \"success\",\n          title: \"Item Removed\",\n          text: \"The item has been successfully removed from the cart.\"\n        });\n      } catch (error) {\n        console.error(\"Error removing from cart:\", error);\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: \"An error occurred while removing the item from the cart.\"\n        });\n      }\n    },\n    // removeItem(state, crt) {\n    //   const existingProduct = state.cart.find(\n    //     (crt) => crt.prodID === crt.prodID\n    //   );\n    //   if (existingProduct) {\n    //     existingProduct.quantity += 1;\n    //   } else {\n    //     state.cart.push({ ...product, quantity: 1 });\n    //   }\n    // },\n    async updateCartItemQuantity({\n      commit,\n      state\n    }, {\n      cartID,\n      productID,\n      quantity\n    }) {\n      try {\n        const response = await axios.patch(`${dbConnection}cart/${productID}`, {\n          quantity\n        });\n        if (response.status === 200) {\n          // commit(\"updateCartItemQuantity\", { prodID, quantity });\n          const cartItem = state.cart.find(item => item.cartID === cartID && item.productID === productID);\n          if (cartItem) {\n            cartItem.quantity = quantity;\n            commit(\"setCart\", [...state.cart]);\n          }\n          console.log(cartID);\n        } else {\n          console.error(\"Error updating cart item quantity:\", response.statusText);\n        }\n      } catch (error) {\n        console.error(\"Error updating cart item quantity:\", error);\n        throw error;\n      }\n    },\n    //User\n    //register\n    async registerUser({\n      commit\n    }, userData) {\n      try {\n        const response = await axios.post(`${dbConnection}register`, userData);\n        // const user = response.data;\n        commit(\"registerUser\", userData);\n        if (response.status === 200) {\n          Swal.fire({\n            icon: \"success\",\n            title: \"Successful Registration \",\n            text: \"You have registered successfully .\"\n          });\n        } else {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Registration Failed\",\n            text: \"An error occurred during registration.\"\n          });\n        }\n      } catch (error) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: error.message\n        });\n      }\n    },\n    //admin\n    async editProduct() {\n      try {\n        const editedProduct = {\n          productPRICE: this.updatedProduct.productPRICE,\n          productNAME: this.updatedProduct.prodNAME,\n          productDESC: this.updatedProduct.prodDESC,\n          productCAT: this.updatedProduct.prodCAT,\n          productTYPE: this.updatedProduct.prodTYPE,\n          productURL: this.updatedProduct.prodIMG,\n          prodQUANTITY: this.updatedProduct.prodQUANTITY\n        };\n        const response = await axios.patch(`${baseUrl}products/${this.updatedProduct.prodID}`, editedProduct);\n        if (response.status === 200) {\n          this.$store.dispatch(\"updateProduct\", {\n            prodID: this.updatedProduct.prodID,\n            editedProduct: response.data\n          });\n          Swal.fire({\n            icon: \"success\",\n            title: \"Product Updated\",\n            text: \"The product has been updated successfully.\"\n          });\n          this.resetForm();\n          $(\"#exampleModal\").modal(\"hide\");\n        } else {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Update Failed\",\n            text: \"An error occurred while updating the product.\"\n          });\n        }\n      } catch (error) {\n        console.error(\"Error editing product:\", error);\n      }\n    },\n    async updateProduct({\n      commit\n    }, {\n      prodID,\n      editedProduct\n    }) {\n      try {\n        const response = await axios.patch(`${baseUrl}products/${prodID}`, editedProduct);\n        if (response.status === 200) {\n          commit(\"updateProductInState\", response.data);\n        } else {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Update Failed\",\n            text: \"An error occurred while updating the product.\"\n          });\n        }\n      } catch (error) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: error.message\n        });\n      }\n    },\n    async addProduct({\n      commit\n    }, newProduct) {\n      try {\n        const response = await axios.post(`${dbConnection}products`, newProduct);\n        if (response.status === 200) {\n          commit(\"setProduct\", product); // Product added successfully\n          commit(\"clearMessages\"); // Clear any previous error or success messages\n          return true;\n        } else {\n          // commit(err, \"Error adding product\");\n          return false;\n        }\n      } catch (error) {\n        // commit(err, `Error adding product: ${error.message}`);\n        return false;\n      }\n    },\n    async deleteProduct({\n      commit\n    }, productID) {\n      try {\n        const response = await axios.delete(`${dbConnection}products/${productID}`);\n        if (response.status === 200) {\n          commit(\"setDeletedProduct\", response.data);\n          await this.dispatch(\"getProducts\");\n          Swal.fire({\n            icon: \"success\",\n            title: \"Product Deleted\",\n            text: \"The product has been deleted successfully.\"\n          });\n        } else {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Delete Failed\",\n            text: \"An error occurred while deleting the product.\"\n          });\n        }\n      } catch (error) {\n        console.error(\"Error deleting product:\", error);\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: error.message\n        });\n      }\n    },\n    //Login\n    async loginUser({\n      commit\n    }, credentials) {\n      try {\n        const response = await axios.post(`${dbConnection}login`, credentials);\n        if (response.status === 200) {\n          const {\n            token,\n            user\n          } = response.data;\n          console.log(response.data);\n          console.log(token);\n          commit(\"setToken\", token);\n          commit(\"setUser\", user);\n          // Store user data in local storage\n          localStorage.setItem(\"userToken\", token);\n          localStorage.setItem(\"userData\", JSON.stringify(response.data));\n          window.location.reload();\n          Swal.fire({\n            icon: \"success\",\n            title: \"Login Successful\",\n            text: \"You have logged in successfully .\"\n          });\n        } else {\n          Swal.fire({\n            icon: \"error\",\n            title: \"Error\",\n            text: \"An error occurred during login.\"\n          });\n        }\n      } catch (error) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: error.message\n        });\n      }\n    },\n    logout({\n      commit\n    }) {\n      localStorage.removeItem(\"userToken\");\n      localStorage.removeItem(\"userData\");\n      commit(\"clearUser\");\n      window.location.reload();\n    }\n  },\n  modules: {}\n});\n//login and register\n// async register(context, payload) {\n//   console.log(\"Reached\");\n//   try {\n//     const res = await axios.post(`https://capstone-sb96.onrender.com/users`, payload);\n//     console.log(\"Res: \", res.data.status);\n//     const { message, err, token } = res.data;\n//     if (message === \"An error occured\") {\n//       context.commit(\"setError\", message);\n//       context.commit(\"setRegStatus\", \"Not registered\");\n//       return { success: false, error: message };\n//     } else if (token) { ``\n//       context.commit(\"setToken\", token);\n//       context.commit(\"setRegStatus\", \"Registered successfully\");\n//       return { success: true, token };\n//     } else if (err) {\n//       console.error(err);\n//     }\n//   } catch (e) {\n//     context.commit(\"setError\", e);\n//     console.log(e);\n//     context.commit(\"setRegStatus\", \"Not registered\");\n//     throw e;\n//   }\n// }\n\n// async login(context, payload) {\n//   try {\n//     const res = await axios.post(`https://capstone-sb96.onrender.com/user/login`, payload);\n//     console.log(\"Res: \", res.data.status);\n//     const { err, message, token, result } = res.data;\n//     console.log(result);\n//     if (message === \"Unregistered user or incorrect password!\") {\n//       context.commit(\"setError\", message);\n//       context.commit(\"setLogStatus\", \"Not logged in\");\n//       return { success: false, error: message };\n//     }\n//     if (message && token && result) {\n//       context.commit(\"setUser\", result);\n//       context.commit(\"setToken\", token);\n//       context.commit(\"setUserData\", result);\n//       context.commit(\"setLogStatus\", \"Logged in!\");\n//       Cookies.set(\"userToken\", token, {\n//         expires: 1,\n//       });\n//       return { success: true, token, result };\n//     } else if (err) {\n//       context.commit(\"setError\", err);\n//       return { success: false, error: err };\n//     } else {\n//       context.commit(\"setError\", \"Unknown error during login\");\n//       context.commit(\"setLogStatus\", \"not logged in\");\n//       return { success: false, error: \"Unknown error\" };\n//     }\n//   } catch (err) {\n//     console.log(\"Error\")\n//   }\n// }\n// cookieCheck(context) {\n//   const token = Cookies.get(\"userToken\");\n//   if (token) {\n//     context.commit(\"setToken\", token);\n//   }\n// }\n// init(context) {\n//   context.dispatch(\"cookieCheck\");\n// }\n// async logout(context) {\n//   context.commit(\"setToken\", null);\n//   context.commit(\"setUser\", null);\n//   context.commit(\"setUserData\", null);\n//   Cookies.remove(\"userToken\");\n// },","map":{"version":3,"names":["createStore","Swal","axios","dbConnection","state","products","product","user","users","token","isLoggedIn","cart","getters","mutations","setProducts","setProduct","setUsers","setUser","registerUser","userData","push","sortProducts","sort","a","b","Price","asc","reverse","setCart","addToCart","existingProduct","find","item","prodID","quantity","updateCartItemQuantity","prodQUANTITY","cartItem","removeItem","cartID","index","findIndex","splice","setUserFromLocalStorage","localStorage","getItem","JSON","parse","setToken","clearUser","actions","getProducts","context","response","fetch","ok","Error","status","json","commit","error","console","getProduct","id","getUsers","then","res","results","getUser","post","data","fire","icon","title","text","$router","message","loginUser","credentials","log","setItem","stringify","window","location","reload","getCart","get","delete","productID","patch","statusText","editProduct","editedProduct","productPRICE","updatedProduct","productNAME","prodNAME","productDESC","prodDESC","productCAT","prodCAT","productTYPE","prodTYPE","productURL","prodIMG","baseUrl","$store","dispatch","resetForm","$","modal","updateProduct","addProduct","newProduct","deleteProduct","logout","modules"],"sources":["C:/Users/Student/CapstoneB/capstonefinal/frontend/src/store/index.js"],"sourcesContent":["import { createStore } from \"vuex\";\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\n// import Cookies from \"js-cookie\";\r\n\r\nconst dbConnection = 'https://lisambuwa.onrender.com/';\r\n\r\nexport default createStore({\r\n  state: {\r\n    products: null,\r\n    product: null,\r\n    // users: null,\r\n    user: null,\r\n    users: null,\r\n    token: null,\r\n    isLoggedIn: false,\r\n    cart: [],\r\n  },\r\n  getters: {},\r\n  mutations: {\r\n    setProducts: (state, products) => {\r\n      state.products = products;\r\n    },\r\n    setProduct: (state, product) => {\r\n      state.product = product;\r\n    },\r\n    setUsers: (state, users) => {\r\n      state.users = users;\r\n    },\r\n    setUser: (state, user) => {\r\n      state.user = user;\r\n    },\r\n    registerUser: (state, userData) => {\r\n      state.users.push(userData);\r\n    },\r\n    sortProducts: (state) => {\r\n      state.products.sort((a, b) => {\r\n        return a.Price - b.Price;\r\n      });\r\n      if (!state.asc) {\r\n        state.products.reverse();\r\n      }\r\n      state.asc = !state.asc;\r\n    },\r\n    //CART\r\n    setCart(state, cart) {\r\n      state.cart = cart;\r\n    },\r\n    \r\n    addToCart(state, product) {\r\n      state.cart.push(product);\r\n    },\r\n    addToCart(state, product) {\r\n      const existingProduct = state.cart.find(\r\n        (item) => item.prodID === product.prodID\r\n      );\r\n      if (existingProduct) {\r\n        existingProduct.quantity += 1;\r\n      } else {\r\n        product.quantity = 1;\r\n        state.cart.push(product);\r\n      }\r\n    },\r\n    updateCartItemQuantity(state, { prodID, prodQUANTITY }) {\r\n      const cartItem = state.cart.find((item) => item.prodID === prodID);\r\n      if (cartItem) {\r\n        cartItem.quantity = prodQUANTITY;\r\n      }\r\n    },\r\n    removeItem(state, cartID) {\r\n      const index = state.cart.findIndex((item) => item.cartID === cartID);\r\n      if (index !== -1) {\r\n        state.cart.splice(index, 1);\r\n      }\r\n    },\r\n    setUserFromLocalStorage(state) {\r\n      const token = localStorage.getItem(\"userToken\");\r\n      if (token) {\r\n        state.token = token;\r\n        state.isLoggedIn = true;\r\n        const userData = JSON.parse(localStorage.getItem(\"userData\"));\r\n        if (userData) {\r\n          state.user = userData;\r\n        }\r\n      }\r\n    },\r\n    setUser(state, user) {\r\n      state.user = user;\r\n      state.isLoggedIn = true;\r\n    },\r\n    setToken(state, token) {\r\n      state.token = token;\r\n    },\r\n    clearUser(state) {\r\n      state.user = null;\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n  },\r\n  actions: {\r\n    getProducts: async (context) => {\r\n      try {\r\n        const response = await fetch(\"https://lisambuwa.onrender.com/products\");\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const products = await response.json();\r\n        context.commit(\"setProducts\", products);\r\n      } catch (error) {\r\n        console.error(\"Error fetching products:\", error);\r\n      }\r\n    },    \r\n\r\n    // getProduct: async (context, id) => {\r\n    //   fetch(\"https://nodeeomp.onrender.com/products/\" + id)\r\n    //     .then((res) => res.json())\r\n    //     .then((product) => context.commit(\"setProduct\", product));\r\n    // },\r\n    getProduct: async (context, id) => {\r\n      try {\r\n        const response = await fetch(\r\n          `https://lisambuwa.onrender.com/products/${id}`\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch product\");\r\n        }\r\n\r\n        const product = await response.json();\r\n\r\n        context.commit(\"setProduct\", product);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    getUsers: async (context) => {\r\n      fetch(\"https://lisambuwa.onrender.com/users\")\r\n        .then((res) => res.json())\r\n        .then((users) => context.commit(\"setUsers\", users.results));\r\n    },\r\n    getUser: async (context, id) => {\r\n      try {\r\n        const res = await fetch(`https://lisambuwa.onrender.com/users/${id}`);\r\n        if (!res.ok) {\r\n          throw new Error(\"Failed to fetch user by ID\");\r\n        }\r\n        const user = await res.json();\r\n\r\n        context.commit(\"setUser\", user);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    //User\r\n    \r\n    async registerUser({ commit }, userData) {\r\n      try {\r\n        const response = await axios.post(\"https://lisambuwa.onrender.com/register\", userData);\r\n        const user = response.data;\r\n        commit(\"setUser\", user);\r\n        if (response.status === 200) {\r\n          Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Registration Successful\",\r\n            text: \"You have successfully registered.\",\r\n          });\r\n          this.$router.push(\"/login\");\r\n        } else {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Registration Failed\",\r\n            text: \"An error occurred during registration.\",\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Network Error:\", error);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.message,\r\n        });\r\n      }\r\n    },\r\n    //Login\r\n    async loginUser({ commit }, credentials) {\r\n      try {\r\n        const response = await axios.post(\"https://lisambuwa.onrender.com/login\", credentials);\r\n        if (response.status === 200) {\r\n          const { token, user } = response.data;\r\n          console.log(response.data);\r\n          console.log(token);\r\n          commit(\"setToken\", token);\r\n          commit(\"setUser\", user);\r\n          // Store user data in local storage\r\n          localStorage.setItem(\"userToken\", token);\r\n          localStorage.setItem(\"userData\", JSON.stringify(response.data));\r\n          window.location.reload();\r\n          Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Login Successful\",\r\n            text: \"You have successfully logged in.\",\r\n          });\r\n        } else {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: \"An error occurred during login.\",\r\n          });\r\n        }\r\n      } catch (error) {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.message,\r\n        });\r\n      }\r\n    },\r\n    async getCart({ commit }) {\r\n      try {\r\n        const response = await axios.get(`${dbConnection}cart`);\r\n        commit(\"setCart\", response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching cart:\", error);\r\n      }\r\n    },\r\n    // async addToCart({ commit, state }, product) {\r\n    //   try {\r\n    //     if (!state.cart) {\r\n    //       console.error(\"Cart is not initialized.\");\r\n    //       return false;\r\n    //     }\r\n    //     const response = await axios.post(`${dbConnection}cart`, product);\r\n    //     console.log(product);\r\n    //     if (response.status === 200) {\r\n    //       commit(\"addToCart\", response.data);\r\n    //       console.log(\"addToCart\", response.data);\r\n    //       await this.dispatch(\"getCart\");\r\n    //       Swal.fire({\r\n    //         icon: \"success\",\r\n    //         title: \"Added to Cart\",\r\n    //         text: \"The product has been added to your cart.\",\r\n    //       });\r\n    //       return true;\r\n    //     } else {\r\n    //       console.error(\"Error adding to cart:\", response.statusText);\r\n    //       Swal.fire({\r\n    //         icon: \"error\",\r\n    //         title: \"Error\",\r\n    //         text: \"An error occurred while adding the product to your cart.\",\r\n    //       });\r\n    //       return false;\r\n    //     }\r\n    //   } catch (error) {\r\n    //     console.error(\"Error adding to cart:\", error);\r\n    //     Swal.fire({\r\n    //       icon: \"error\",\r\n    //       title: \"Error\",\r\n    //       text: \"An error occurred while adding the product to your cart.\",\r\n    //     });\r\n    //     throw error;\r\n    //   }\r\n    // },\r\n\r\n    addToCart({ commit }, product) {\r\n      commit('addToCart', product);\r\n    },\r\n\r\n    async removeItem({ commit }, cartID) {\r\n      try {\r\n        await axios.delete(`${dbConnection}cart/${cartID}`);\r\n        commit(\"removeItem\", cartID);\r\n        console.log(cartID);\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Item Removed\",\r\n          text: \"The item has been successfully removed from the cart.\",\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Error removing from cart:\", error);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: \"An error occurred while removing the item from the cart.\",\r\n        });\r\n      }\r\n    },\r\n    // removeItem(state, crt) {\r\n    //   const existingProduct = state.cart.find(\r\n    //     (crt) => crt.prodID === crt.prodID\r\n    //   );\r\n    //   if (existingProduct) {\r\n    //     existingProduct.quantity += 1;\r\n    //   } else {\r\n    //     state.cart.push({ ...product, quantity: 1 });\r\n    //   }\r\n    // },\r\n    async updateCartItemQuantity(\r\n      { commit, state },\r\n      { cartID, productID, quantity }\r\n    ) {\r\n      try {\r\n        const response = await axios.patch(`${dbConnection}cart/${productID}`, {\r\n          quantity,\r\n        });\r\n        if (response.status === 200) {\r\n          // commit(\"updateCartItemQuantity\", { prodID, quantity });\r\n          const cartItem = state.cart.find(\r\n            (item) => item.cartID === cartID && item.productID === productID\r\n          );\r\n          if (cartItem) {\r\n            cartItem.quantity = quantity;\r\n            commit(\"setCart\", [...state.cart]);\r\n          }\r\n          console.log(cartID);\r\n        } else {\r\n          console.error(\r\n            \"Error updating cart item quantity:\",\r\n            response.statusText\r\n          );\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error updating cart item quantity:\", error);\r\n        throw error;\r\n      }\r\n    },\r\n    //User\r\n    //register\r\n    async registerUser({ commit }, userData) {\r\n      try {\r\n        const response = await axios.post(`${dbConnection}register`, userData);\r\n        // const user = response.data;\r\n        commit(\"registerUser\", userData);\r\n        if (response.status === 200) {\r\n          Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Successful Registration \",\r\n            text: \"You have registered successfully .\",\r\n          });\r\n        } else {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Registration Failed\",\r\n            text: \"An error occurred during registration.\",\r\n          });\r\n        }\r\n      } catch (error) {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.message,\r\n        });\r\n      }\r\n    },\r\n    //admin\r\n    async editProduct() {\r\n      try {\r\n        const editedProduct = {\r\n          productPRICE: this.updatedProduct.productPRICE,\r\n          productNAME: this.updatedProduct.prodNAME,\r\n          productDESC: this.updatedProduct.prodDESC,\r\n          productCAT: this.updatedProduct.prodCAT,\r\n          productTYPE: this.updatedProduct.prodTYPE,        \r\n          productURL: this.updatedProduct.prodIMG,\r\n          prodQUANTITY: this.updatedProduct.prodQUANTITY,\r\n        };\r\n        const response = await axios.patch(\r\n          `${baseUrl}products/${this.updatedProduct.prodID}`,\r\n          editedProduct\r\n        );\r\n        if (response.status === 200) {\r\n          this.$store.dispatch(\"updateProduct\", {\r\n            prodID: this.updatedProduct.prodID,\r\n            editedProduct: response.data,\r\n          });\r\n          Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Product Updated\",\r\n            text: \"The product has been updated successfully.\",\r\n          });\r\n          this.resetForm();\r\n          $(\"#exampleModal\").modal(\"hide\");\r\n        } else {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Update Failed\",\r\n            text: \"An error occurred while updating the product.\",\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error editing product:\", error);\r\n      }\r\n    },\r\n    async updateProduct({ commit }, { prodID, editedProduct }) {\r\n      try {\r\n        const response = await axios.patch(\r\n          `${baseUrl}products/${prodID}`,\r\n          editedProduct\r\n        );\r\n        if (response.status === 200) {\r\n          commit(\"updateProductInState\", response.data);\r\n        } else {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Update Failed\",\r\n            text: \"An error occurred while updating the product.\",\r\n          });\r\n        }\r\n      } catch (error) {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.message,\r\n        });\r\n      }\r\n    },\r\n  async addProduct({ commit }, newProduct) {\r\n      try {\r\n        const response = await axios.post(`${dbConnection}products`, newProduct);\r\n        if (response.status === 200) {\r\n          commit(\"setProduct\", product,);// Product added successfully\r\n          commit(\"clearMessages\"); // Clear any previous error or success messages\r\n          return true;\r\n        } else {\r\n          // commit(err, \"Error adding product\");\r\n          return false;\r\n        } \r\n      } catch (error) {\r\n        // commit(err, `Error adding product: ${error.message}`);\r\n        return false;\r\n      }\r\n    },\r\n  async deleteProduct({ commit }, productID) {\r\n    try {\r\n      const response = await axios.delete(`${dbConnection}products/${productID}`);\r\n      if (response.status === 200) {\r\n        commit(\"setDeletedProduct\", response.data);\r\n        await this.dispatch(\"getProducts\");\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Product Deleted\",\r\n          text: \"The product has been deleted successfully.\",\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Delete Failed\",\r\n          text: \"An error occurred while deleting the product.\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error deleting product:\", error);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Error\",\r\n        text: error.message,\r\n      });\r\n    }\r\n  },\r\n    //Login\r\n    async loginUser({ commit }, credentials) {\r\n      try {\r\n        const response = await axios.post(`${dbConnection}login`, credentials);\r\n        if (response.status === 200) {\r\n          const { token, user } = response.data;\r\n          console.log(response.data);\r\n          console.log(token);\r\n          commit(\"setToken\", token);\r\n          commit(\"setUser\", user);\r\n          // Store user data in local storage\r\n          localStorage.setItem(\"userToken\", token);\r\n          localStorage.setItem(\"userData\", JSON.stringify(response.data));\r\n          window.location.reload();\r\n          Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Login Successful\",\r\n            text: \"You have logged in successfully .\",\r\n          });\r\n        } else {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: \"An error occurred during login.\",\r\n          });\r\n        }\r\n      } catch (error) {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.message,\r\n        });\r\n      }\r\n    },\r\n    logout({ commit }) {\r\n      localStorage.removeItem(\"userToken\");\r\n      localStorage.removeItem(\"userData\");\r\n      commit(\"clearUser\");\r\n      window.location.reload();\r\n    },\r\n  },\r\n\r\n  modules: {},\r\n});\r\n//login and register\r\n// async register(context, payload) {\r\n//   console.log(\"Reached\");\r\n//   try {\r\n//     const res = await axios.post(`https://capstone-sb96.onrender.com/users`, payload);\r\n//     console.log(\"Res: \", res.data.status);\r\n//     const { message, err, token } = res.data;\r\n//     if (message === \"An error occured\") {\r\n//       context.commit(\"setError\", message);\r\n//       context.commit(\"setRegStatus\", \"Not registered\");\r\n//       return { success: false, error: message };\r\n//     } else if (token) { ``\r\n//       context.commit(\"setToken\", token);\r\n//       context.commit(\"setRegStatus\", \"Registered successfully\");\r\n//       return { success: true, token };\r\n//     } else if (err) {\r\n//       console.error(err);\r\n//     }\r\n//   } catch (e) {\r\n//     context.commit(\"setError\", e);\r\n//     console.log(e);\r\n//     context.commit(\"setRegStatus\", \"Not registered\");\r\n//     throw e;\r\n//   }\r\n// }\r\n\r\n// async login(context, payload) {\r\n//   try {\r\n//     const res = await axios.post(`https://capstone-sb96.onrender.com/user/login`, payload);\r\n//     console.log(\"Res: \", res.data.status);\r\n//     const { err, message, token, result } = res.data;\r\n//     console.log(result);\r\n//     if (message === \"Unregistered user or incorrect password!\") {\r\n//       context.commit(\"setError\", message);\r\n//       context.commit(\"setLogStatus\", \"Not logged in\");\r\n//       return { success: false, error: message };\r\n//     }\r\n//     if (message && token && result) {\r\n//       context.commit(\"setUser\", result);\r\n//       context.commit(\"setToken\", token);\r\n//       context.commit(\"setUserData\", result);\r\n//       context.commit(\"setLogStatus\", \"Logged in!\");\r\n//       Cookies.set(\"userToken\", token, {\r\n//         expires: 1,\r\n//       });\r\n//       return { success: true, token, result };\r\n//     } else if (err) {\r\n//       context.commit(\"setError\", err);\r\n//       return { success: false, error: err };\r\n//     } else {\r\n//       context.commit(\"setError\", \"Unknown error during login\");\r\n//       context.commit(\"setLogStatus\", \"not logged in\");\r\n//       return { success: false, error: \"Unknown error\" };\r\n//     }\r\n//   } catch (err) {\r\n//     console.log(\"Error\")\r\n//   }\r\n// }\r\n// cookieCheck(context) {\r\n//   const token = Cookies.get(\"userToken\");\r\n//   if (token) {\r\n//     context.commit(\"setToken\", token);\r\n//   }\r\n// }\r\n// init(context) {\r\n//   context.dispatch(\"cookieCheck\");\r\n// }\r\n// async logout(context) {\r\n//   context.commit(\"setToken\", null);\r\n//   context.commit(\"setUser\", null);\r\n//   context.commit(\"setUserData\", null);\r\n//   Cookies.remove(\"userToken\");\r\n// },\r\n"],"mappings":"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AC,CAAC;UAC/DY,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;UACxBnF,IAAI,CAACsE,IAAI,CAAC;YACRC,IAAI,EAAE,SAAS;YACfC,KAAK,EAAE,kBAAkB;YACzBC,IAAI,EAAE;UACR,CAAC,CAAC;QACJ,CAAC,MAAM;UACLzE,IAAI,CAACsE,IAAI,CAAC;YACRC,IAAI,EAAE,OAAO;YACbC,KAAK,EAAE,OAAO;YACdC,IAAI,EAAE;UACR,CAAC,CAAC;QACJ;MACF,CAAC,CAAC,OAAOd,KAAK,EAAE;QACd3D,IAAI,CAACsE,IAAI,CAAC;UACRC,IAAI,EAAE,OAAO;UACbC,KAAK,EAAE,OAAO;UACdC,IAAI,EAAEd,KAAK,CAACgB;QACd,CAAC,CAAC;MACJ;IACF,CAAC;IACDuC,MAAMA,CAAC;MAAExD;IAAO,CAAC,EAAE;MACjBf,YAAY,CAACN,UAAU,CAAC,WAAW,CAAC;MACpCM,YAAY,CAACN,UAAU,CAAC,UAAU,CAAC;MACnCqB,MAAM,CAAC,WAAW,CAAC;MACnBuB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC1B;EACF,CAAC;EAEDgC,OAAO,EAAE,CAAC;AACZ,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}