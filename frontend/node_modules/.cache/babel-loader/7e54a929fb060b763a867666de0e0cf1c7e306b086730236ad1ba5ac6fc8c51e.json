{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1f38ae62\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"body\"\n};\nconst _hoisted_2 = {\n  class: \"row table-container\"\n};\nconst _hoisted_3 = {\n  class: \"col-12\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"PRODUCTS\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"addp\"\n};\nconst _hoisted_6 = {\n  class: \"col\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"#\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Image\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Product Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Price\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Description\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Edit/Delete\")])], -1 /* HOISTED */));\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nexport function render(_ctx, _cache) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_loading_spinner = _resolveComponent(\"loading-spinner\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_ctx.products ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"button\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: \"/admin/add/product\",\n    class: \"bb\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Add Product \")]),\n    _: 1 /* STABLE */\n  })])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"table\", {\n    class: \"table is-striped is-bordered mt-2 is-fullwidth text-align-center\",\n    onSubmit: _cache[0] || (_cache[0] = (...args) => _ctx.deleteProduct && _ctx.deleteProduct(...args))\n  }, [_hoisted_7, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.products, product => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: product.productID,\n      class: \"boredom\"\n    }, [_createElementVNode(\"td\", null, _toDisplayString(product.productID), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      class: \"tableImg\",\n      src: product.productUrl,\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_8)]), _createElementVNode(\"td\", null, _toDisplayString(product.productNAME), 1 /* TEXT */), _createElementVNode(\"td\", null, \"R \" + _toDisplayString(product.productPRICE), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(product.productDESC), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createCommentVNode(\" Edit link, you can uncomment it when needed \"), _createCommentVNode(\" <button>\\r\\n                      <router-link :to=\\\"{ name: 'admin edit product', params: { id : product.prodID } }\\\"> Edit </router-link>\\r\\n                    </button> \"), _createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"btn btton\",\n      onClick: $event => _ctx.deleteProduct(product.productID),\n      id: \"delete-row\"\n    }, \" üóëÔ∏è \", 8 /* PROPS */, _hoisted_9), _createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"btn btton\",\n      onClick: $event => _ctx.editProduct(product.productID),\n      id: \"add-row\"\n    }, \" ‚úèÔ∏è \", 8 /* PROPS */, _hoisted_10)])]);\n  }), 128 /* KEYED_FRAGMENT */))])], 32 /* HYDRATE_EVENTS */)])])])) : (_openBlock(), _createBlock(_component_loading_spinner, {\n    key: 1\n  }))]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_ctx","products","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_router_link","to","_hoisted_6","onSubmit","_cache","args","deleteProduct","_hoisted_7","_Fragment","_renderList","product","key","productID","_toDisplayString","src","productUrl","alt","productNAME","productPRICE","productDESC","_createCommentVNode","type","onClick","$event","id","_hoisted_9","editProduct","_hoisted_10","_createBlock","_component_loading_spinner"],"sources":["C:\\Users\\Student\\CapstoneB\\capstonefinal\\frontend\\src\\components\\ProductTable.vue"],"sourcesContent":["<template>\r\n    <div >\r\n      <div class=\"body\" v-if=\"products\">\r\n        <div class=\"row table-container\">\r\n          <div class=\"col-12\">\r\n            <h1>PRODUCTS</h1>\r\n            <button class=\"addp\">\r\n              <router-link to=\"/admin/add/product\" class=\"bb\"> Add Product </router-link>\r\n            </button>\r\n          </div>\r\n          <div class=\"col\">\r\n            <table class=\"table is-striped is-bordered mt-2 is-fullwidth  text-align-center\" @submit=\"deleteProduct\">\r\n              <thead>\r\n                <tr>\r\n                  <th>#</th>\r\n                  <th>Image</th>\r\n                  <th>Product Name</th>\r\n                  <th>Price</th>\r\n                  <th>Description</th>\r\n                  <th>Edit/Delete</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"product in products\" :key=\"product.productID\" class=\"boredom\">\r\n                  <td>{{ product.productID }}</td>\r\n                  <td><img class=\"tableImg\" :src=\"product.productUrl\" alt=\"\" /></td>\r\n                  <td>{{ product.productNAME }}</td>\r\n                  <td>R {{ product.productPRICE }}</td>\r\n                  <td>{{ product.productDESC }}</td>\r\n                  <td>\r\n                    <!-- Edit link, you can uncomment it when needed -->\r\n                    <!-- <button>\r\n                      <router-link :to=\"{ name: 'admin edit product', params: { id : product.prodID } }\"> Edit </router-link>\r\n                    </button> -->\r\n                    <button\r\n                      type=\"submit\"\r\n                      class=\"btn btton\"\r\n                      @click=\"deleteProduct(product.productID)\"\r\n                      id=\"delete-row\"\r\n                    >\r\n                      üóëÔ∏è\r\n                    </button>\r\n                    <button\r\n                      type=\"submit\"\r\n                      class=\"btn btton\"\r\n                      @click=\"editProduct(product.productID)\"\r\n                      id=\"add-row\"\r\n                    >\r\n                      ‚úèÔ∏è\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <loading-spinner v-else />\r\n    </div>\r\n  </template>\r\n  \r\n  \r\n  <script>\r\n  \r\n  // import axios from 'axios'\r\n  import LoadingSpinner from '@/components/LoadingSpinner.vue';\r\n  export default {\r\n  // props: [\"products\"],\r\n  cp\r\n  computed: {\r\n  products() {\r\n    return this.$store.state.products\r\n  },\r\n  // userRole() {\r\n  //   return this.$store.state.userRole;\r\n  // },\r\n},\r\n  \r\n  mounted() {\r\n  this.$store.dispatch(\"getProducts\")\r\n  },\r\n  methods: {\r\n  async deleteProduct(productId) {\r\n    const success = await this.$store.dispatch('deleteProduct', productId);\r\n\r\n    if (success) {\r\n      // Update the product list in your component if needed.\r\n      this.$store.dispatch('getProducts'); // You can dispatch this if you need to refresh the product list.\r\n    } else {\r\n      alert('Failed to delete product. Please try again.');\r\n    }\r\n  },\r\n},\r\n  \r\n  \r\n  };\r\n  \r\n  \r\n  \r\n  \r\n  </script>\r\n  \r\n  <style scoped>\r\n  .tableImg{\r\n      width : 85px;\r\n  }\r\n  .addp {\r\n    background-color:#d914e7;\r\n  border-radius: 20px; \r\n  color: black !important;\r\n}\r\n.addp:hover {\r\n  background-color: pink;\r\n}\r\n.bb {\r\n  color: black;\r\n}\r\n  \r\n  </style>"],"mappings":";;;;EAEWA,KAAK,EAAC;;;EACJA,KAAK,EAAC;AAAqB;;EACzBA,KAAK,EAAC;AAAQ;gEACjBC,mBAAA,CAAiB,YAAb,UAAQ;;EACJD,KAAK,EAAC;AAAM;;EAIjBA,KAAK,EAAC;AAAK;gEAEZC,mBAAA,CASQ,gB,aARNA,mBAAA,CAOK,a,aANHA,mBAAA,CAAU,YAAN,GAAC,G,aACLA,mBAAA,CAAc,YAAV,OAAK,G,aACTA,mBAAA,CAAqB,YAAjB,cAAY,G,aAChBA,mBAAA,CAAc,YAAV,OAAK,G,aACTA,mBAAA,CAAoB,YAAhB,aAAW,G,aACfA,mBAAA,CAAoB,YAAhB,aAAW,E;;;;;;;uBAlB7BC,mBAAA,CAyDM,cAxDoBC,IAAA,CAAAC,QAAQ,I,cAAhCF,mBAAA,CAsDM,OAtDNG,UAsDM,GArDJJ,mBAAA,CAoDM,OApDNK,UAoDM,GAnDJL,mBAAA,CAKM,OALNM,UAKM,GAJJC,UAAiB,EACjBP,mBAAA,CAES,UAFTQ,UAES,GADPC,YAAA,CAA2EC,sBAAA;IAA9DC,EAAE,EAAC,oBAAoB;IAACZ,KAAK,EAAC;;sBAAK,MAAa,C,iBAAb,eAAa,E;;UAGjEC,mBAAA,CA4CM,OA5CNY,UA4CM,GA3CJZ,mBAAA,CA0CQ;IA1CDD,KAAK,EAAC,kEAAmE;IAAEc,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEb,IAAA,CAAAc,aAAA,IAAAd,IAAA,CAAAc,aAAA,IAAAD,IAAA,CAAa;MACrGE,UASQ,EACRjB,mBAAA,CA8BQ,iB,kBA7BNC,mBAAA,CA4BKiB,SAAA,QAAAC,WAAA,CA5BiBjB,IAAA,CAAAC,QAAQ,EAAnBiB,OAAO;yBAAlBnB,mBAAA,CA4BK;MA5B4BoB,GAAG,EAAED,OAAO,CAACE,SAAS;MAAEvB,KAAK,EAAC;QAC7DC,mBAAA,CAAgC,YAAAuB,gBAAA,CAAzBH,OAAO,CAACE,SAAS,kBACxBtB,mBAAA,CAAkE,aAA9DA,mBAAA,CAAyD;MAApDD,KAAK,EAAC,UAAU;MAAEyB,GAAG,EAAEJ,OAAO,CAACK,UAAU;MAAEC,GAAG,EAAC;2CACxD1B,mBAAA,CAAkC,YAAAuB,gBAAA,CAA3BH,OAAO,CAACO,WAAW,kBAC1B3B,mBAAA,CAAqC,YAAjC,IAAE,GAAAuB,gBAAA,CAAGH,OAAO,CAACQ,YAAY,kBAC7B5B,mBAAA,CAAkC,YAAAuB,gBAAA,CAA3BH,OAAO,CAACS,WAAW,kBAC1B7B,mBAAA,CAqBK,aApBH8B,mBAAA,iDAAoD,EACpDA,mBAAA,kLAEa,EACb9B,mBAAA,CAOS;MANP+B,IAAI,EAAC,QAAQ;MACbhC,KAAK,EAAC,WAAW;MAChBiC,OAAK,EAAAC,MAAA,IAAE/B,IAAA,CAAAc,aAAa,CAACI,OAAO,CAACE,SAAS;MACvCY,EAAE,EAAC;OACJ,OAED,iBAAAC,UAAA,GACAnC,mBAAA,CAOS;MANP+B,IAAI,EAAC,QAAQ;MACbhC,KAAK,EAAC,WAAW;MAChBiC,OAAK,EAAAC,MAAA,IAAE/B,IAAA,CAAAkC,WAAW,CAAChB,OAAO,CAACE,SAAS;MACrCY,EAAE,EAAC;OACJ,MAED,iBAAAG,WAAA,E;sFAQdC,YAAA,CAA0BC,0BAAA;IAAAlB,GAAA;EAAA,I"},"metadata":{},"sourceType":"module","externalDependencies":[]}