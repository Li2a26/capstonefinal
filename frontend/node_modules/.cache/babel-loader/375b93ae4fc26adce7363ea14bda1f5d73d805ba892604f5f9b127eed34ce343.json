{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5c6101e4\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, null, -1 /* HOISTED */));\nconst _hoisted_2 = {\n  class: \"container d-flex justify-content-center text-align-center align-items-center\"\n};\nconst _hoisted_3 = {\n  class: \"card animate__animated animate__slideInLeft\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"text-center\"\n}, \"Welcome Back\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Login\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  key: 0,\n  class: \"error-message\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.emailAdd = $event),\n    placeholder: \"Email\",\n    autocomplete: \"username\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.emailAdd]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.userPass = $event),\n    placeholder: \"Password\",\n    autocomplete: \"current-password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.userPass]]), _hoisted_5, _createElementVNode(\"p\", null, [_createTextVNode(\" Don't have an account?\"), _createVNode(_component_router_link, {\n    to: \"register\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Register\")]),\n    _: 1 /* STABLE */\n  })]), $data.loginError ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, _toDisplayString($data.loginError), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 32 /* HYDRATE_EVENTS */)])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","type","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$options","login","$data","form","emailAdd","$event","placeholder","autocomplete","userPass","_hoisted_5","_createVNode","_component_router_link","to","loginError","_createElementBlock","_hoisted_6","_toDisplayString"],"sources":["C:\\Users\\Student\\CapstoneB\\capstonefinal\\frontend\\src\\views\\LoginView.vue"],"sourcesContent":[" <template>\r\n  <div>\r\n    \r\n  </div>\r\n  <div  class=\"container d-flex justify-content-center text-align-center align-items-center\" >\r\n    <div class=\"card animate__animated animate__slideInLeft\">\r\n       <h4 class=\"text-center\">Welcome Back</h4>\r\n        <form @submit.prevent=\"login\">\r\n      <input\r\n        type=\"text\"\r\n        v-model=\"form.emailAdd\"\r\n        placeholder=\"Email\"\r\n        autocomplete=\"username\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        v-model=\"form.userPass\"\r\n        placeholder=\"Password\"\r\n        autocomplete=\"current-password\"\r\n      />\r\n      <button type=\"submit\">Login</button>\r\n     <p> Don't have an account?<router-link to=\"register\">Register</router-link></p>\r\n      <p v-if=\"loginError\" class=\"error-message\">{{ loginError }}</p>\r\n    </form>\r\n    </div>\r\n  </div>\r\n  \r\n  </template>\r\n  <script>\r\n  import { mapActions } from \"vuex\";\r\n  export default {\r\n    data() {\r\n      return {\r\n        form: {\r\n          emailAdd: \"\",\r\n          userPass: \"\",\r\n        },\r\n        loginError: null,\r\n      };\r\n    },\r\n    methods: {\r\n      ...mapActions([\"loginUser\"]),\r\n      async login() {\r\n        try {\r\n          const response = await this.loginUser({\r\n            emailAdd: this.form.emailAdd,\r\n            userPass: this.form.userPass,\r\n          });\r\n          if (\r\n            response &&\r\n            response.token &&\r\n            response.status === 200 &&\r\n            response.data\r\n          ) {\r\n            const token = response.token;\r\n            this.$cookies.set(\"userToken\", token);\r\n            const userData = response.data;\r\n            localStorage.setItem(\"userData\", JSON.stringify(userData));\r\n            this.$router.push(\"/\");\r\n          } else {\r\n            this.$router.push(\"/\");\r\n            console.log(response);\r\n          }\r\n        } catch (error) {\r\n          if (error.response && error.response.status === 401) {\r\n            this.loginError = \"Log Err\";\r\n          } else {\r\n            console.log(error);\r\n          }\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n\r\n<style scoped>\r\n\r\n.container {\r\n    min-height: 100vh;\r\n   \r\n}\r\n.card {\r\n    \r\n    background-color: #e587ec;\r\n    width: 745px;\r\n    border: solid pink 5px;\r\n    padding-left: 25px;\r\n}\r\n\r\n.pink {\r\n    height: 500px;\r\n    width: 100%;\r\n}\r\n\r\n.col {\r\n    text-align:center\r\n}\r\n\r\n    \r\n</style> \r\n"],"mappings":";;gEACEA,mBAAA,CAEM;;EACAC,KAAK,EAAC;AAA8E;;EACnFA,KAAK,EAAC;AAA6C;gEACrDD,mBAAA,CAAyC;EAArCC,KAAK,EAAC;AAAa,GAAC,cAAY;gEAcrCD,mBAAA,CAAoC;EAA5BE,IAAI,EAAC;AAAQ,GAAC,OAAK;;;EAEND,KAAK,EAAC;;;;6DArB/BE,UAEM,EACNH,mBAAA,CAqBM,OArBNI,UAqBM,GApBJJ,mBAAA,CAmBM,OAnBNK,UAmBM,GAlBHC,UAAyC,EACxCN,mBAAA,CAgBG;IAhBIO,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;sBAC9BV,mBAAA,CAKE;IAJAE,IAAI,EAAC,MAAM;+DACFW,KAAA,CAAAC,IAAI,CAACC,QAAQ,GAAAC,MAAA;IACtBC,WAAW,EAAC,OAAO;IACnBC,YAAY,EAAC;iDAFJL,KAAA,CAAAC,IAAI,CAACC,QAAQ,E,mBAIxBf,mBAAA,CAKE;IAJAE,IAAI,EAAC,UAAU;+DACNW,KAAA,CAAAC,IAAI,CAACK,QAAQ,GAAAH,MAAA;IACtBC,WAAW,EAAC,UAAU;IACtBC,YAAY,EAAC;iDAFJL,KAAA,CAAAC,IAAI,CAACK,QAAQ,E,GAIxBC,UAAoC,EACrCpB,mBAAA,CAA+E,Y,iBAA5E,yBAAuB,GAAAqB,YAAA,CAAiDC,sBAAA;IAApCC,EAAE,EAAC;EAAU;sBAAC,MAAQ,C,iBAAR,UAAQ,E;;QACnDV,KAAA,CAAAW,UAAU,I,cAAnBC,mBAAA,CAA+D,KAA/DC,UAA+D,EAAAC,gBAAA,CAAjBd,KAAA,CAAAW,UAAU,oB"},"metadata":{},"sourceType":"module","externalDependencies":[]}