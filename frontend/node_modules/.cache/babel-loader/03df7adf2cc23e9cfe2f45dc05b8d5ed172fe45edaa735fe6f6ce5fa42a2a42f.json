{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapActions } from \"vuex\";\nexport default {\n  data() {\n    return {\n      form: {\n        emailAdd: \"\",\n        userPass: \"\"\n      },\n      loginError: null\n    };\n  },\n  methods: {\n    ...mapActions([\"loginUser\"]),\n    async login() {\n      try {\n        const response = await this.loginUser({\n          emailAdd: this.form.emailAdd,\n          userPass: this.form.userPass\n        });\n        if (response && response.token && response.status === 200 && response.data) {\n          const token = response.token;\n          this.$cookies.set(\"userToken\", token);\n          const userData = response.data;\n          localStorage.setItem(\"userData\", JSON.stringify(userData));\n          this.$router.push(\"/\");\n        } else {\n          this.$router.push(\"/\");\n          console.log(response);\n        }\n      } catch (error) {\n        if (error.response && error.response.status === 401) {\n          this.loginError = \"Log Err\";\n        } else {\n          console.log(error);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapActions","data","form","emailAdd","userPass","loginError","methods","login","response","loginUser","token","status","$cookies","set","userData","localStorage","setItem","JSON","stringify","$router","push","console","log","error"],"sources":["C:\\Users\\Student\\CapstoneB\\capstonefinal\\frontend\\src\\views\\LoginView.vue"],"sourcesContent":[" <template>\r\n  <div>\r\n    <div  class=\"container d-flex justify-content-center text-align-center align-items-center\" >\r\n    <div class=\"card animate__animated animate__slideInLeft\">\r\n       <h4 class=\"text-center\">Welcome Back</h4>\r\n        <form @submit.prevent=\"login\">\r\n      <input\r\n        type=\"text\"\r\n        v-model=\"form.emailAdd\"\r\n        placeholder=\"Email\"\r\n        autocomplete=\"username\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        v-model=\"form.userPass\"\r\n        placeholder=\"Password\"\r\n        autocomplete=\"current-password\"\r\n      />\r\n      <button type=\"submit\">Login</button>\r\n     <p> Don't have an account?<router-link to=\"register\">Register</router-link></p>\r\n      <p v-if=\"loginError\" class=\"error-message\">{{ loginError }}</p>\r\n    </form>\r\n    <div class=\"col\">\r\n      <img class=\"pink\" src=\"https://i.postimg.cc/J0wsqYSn/er.jpg\" alt=\"\">\r\n    </div>\r\n    </div>\r\n  </div>\r\n  \r\n  </div>\r\n \r\n  </template>\r\n  <script>\r\n  import { mapActions } from \"vuex\";\r\n  export default {\r\n    data() {\r\n      return {\r\n        form: {\r\n          emailAdd: \"\",\r\n          userPass: \"\",\r\n        },\r\n        loginError: null,\r\n      };\r\n    },\r\n    methods: {\r\n      ...mapActions([\"loginUser\"]),\r\n      async login() {\r\n        try {\r\n          const response = await this.loginUser({\r\n            emailAdd: this.form.emailAdd,\r\n            userPass: this.form.userPass,\r\n          });\r\n          if (\r\n            response &&\r\n            response.token &&\r\n            response.status === 200 &&\r\n            response.data\r\n          ) {\r\n            const token = response.token;\r\n            this.$cookies.set(\"userToken\", token);\r\n            const userData = response.data;\r\n            localStorage.setItem(\"userData\", JSON.stringify(userData));\r\n            this.$router.push(\"/\");\r\n          } else {\r\n            this.$router.push(\"/\");\r\n            console.log(response);\r\n          }\r\n        } catch (error) {\r\n          if (error.response && error.response.status === 401) {\r\n            this.loginError = \"Log Err\";\r\n          } else {\r\n            console.log(error);\r\n          }\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n\r\n<style scoped>\r\n\r\n.container {\r\n    min-height: 100vh;\r\n   \r\n}\r\n.card {\r\n    \r\n    background-color: #e587ec;\r\n    width: 745px;\r\n    border: solid pink 5px;\r\n    padding-left: 25px;\r\n}\r\n\r\n.pink {\r\n    height: 500px;\r\n    width: 100%;\r\n}\r\n\r\n.col {\r\n    text-align:center\r\n}\r\n\r\n    \r\n</style> \r\n"],"mappings":";AAgCE,SAASA,UAAS,QAAS,MAAM;AACjC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACZ,CAAC;MACDC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,GAAGN,UAAU,CAAC,CAAC,WAAW,CAAC,CAAC;IAC5B,MAAMO,KAAKA,CAAA,EAAG;MACZ,IAAI;QACF,MAAMC,QAAO,GAAI,MAAM,IAAI,CAACC,SAAS,CAAC;UACpCN,QAAQ,EAAE,IAAI,CAACD,IAAI,CAACC,QAAQ;UAC5BC,QAAQ,EAAE,IAAI,CAACF,IAAI,CAACE;QACtB,CAAC,CAAC;QACF,IACEI,QAAO,IACPA,QAAQ,CAACE,KAAI,IACbF,QAAQ,CAACG,MAAK,KAAM,GAAE,IACtBH,QAAQ,CAACP,IAAG,EACZ;UACA,MAAMS,KAAI,GAAIF,QAAQ,CAACE,KAAK;UAC5B,IAAI,CAACE,QAAQ,CAACC,GAAG,CAAC,WAAW,EAAEH,KAAK,CAAC;UACrC,MAAMI,QAAO,GAAIN,QAAQ,CAACP,IAAI;UAC9Bc,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC;UAC1D,IAAI,CAACK,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;QACxB,OAAO;UACL,IAAI,CAACD,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;UACtBC,OAAO,CAACC,GAAG,CAACd,QAAQ,CAAC;QACvB;MACF,EAAE,OAAOe,KAAK,EAAE;QACd,IAAIA,KAAK,CAACf,QAAO,IAAKe,KAAK,CAACf,QAAQ,CAACG,MAAK,KAAM,GAAG,EAAE;UACnD,IAAI,CAACN,UAAS,GAAI,SAAS;QAC7B,OAAO;UACLgB,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;QACpB;MACF;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}